"use strict";(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[8585],{8621:(e,t,a)=>{a.d(t,{A:()=>P});var n=a(10467),l=a(64467),r=a(23029),i=a(92901),s=a(56822),c=a(53954),o=a(85501),m=a(80045),u=a(54756),d=a.n(u),p=a(92516),h=a.n(p),f=a(96540),E=a(81057),g=a(1489),b=a(24941),v=a(87395),A=a(83794),y=a(5556),N=a.n(y),C=["size","isLoading","children"];function w(e,t,a){return t=(0,c.A)(t),(0,s.A)(e,k()?Reflect.construct(t,a||[],(0,c.A)(e).constructor):t.apply(e,a))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}var x=function(e){for(var t=e.size,a=e.isLoading,n=e.children,l=((0,m.A)(e,C),function(){return f.createElement(g.A.Column,{width:3},f.createElement(b.A,null,f.createElement(b.A.Image,{square:!0})),f.createElement(b.A,null,f.createElement(b.A.Paragraph,null,f.createElement(b.A.Line,{length:"medium"}),f.createElement(b.A.Line,{length:"short"}))))}),r=[],i=0;i<t;i++)r.push(f.createElement(l,{key:i}));return a?f.createElement(g.A,{columns:"equal",stackable:!0},r):n};x.propTypes={size:N().number,isLoading:N().bool.isRequired,children:N().node.isRequired},x.defaultProps={size:5};var R=function(e){var t=e.message;return f.createElement(v.A,{icon:"info",header:t})};R.propTypes={message:N().string.isRequired};var L=function(e){function t(){return(0,r.A)(this,t),w(this,t,arguments)}return(0,o.A)(t,e),(0,i.A)(t,[{key:"render",value:function(){var e=this.props,t=e.community,a=e.defaultLogo;return f.createElement(A.A,{fluid:!0,href:"/communities/".concat(t.slug)},f.createElement(E.Image,{wrapped:!0,centered:!0,ui:!1,src:t.links.logo,fallbackSrc:a,loadFallbackFirst:!0}),f.createElement(A.A.Content,null,f.createElement(A.A.Header,null,h()(t.metadata.title,{length:30})),t.metadata.description&&f.createElement(A.A.Description,null,f.createElement("div",{className:"truncate-lines-2"},t.metadata.description))))}}])}(f.Component);L.propTypes={community:N().object.isRequired,defaultLogo:N().string.isRequired};var q=function(e){function t(e){var a;return(0,r.A)(this,t),a=w(this,t,[e]),(0,l.A)(a,"fetchData",(0,n.A)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.fetchDataUrl,a.setState({isLoading:!0}),a.cancellableFetch=(0,E.withCancel)(E.http.get(t)),e.prev=3,e.next=6,a.cancellableFetch.promise;case 6:n=e.sent,a.setState({data:n.data.hits,isLoading:!1}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})))),a.state={isLoading:!1,data:{hits:[]}},a}return(0,o.A)(t,e),(0,i.A)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){this.cancellableFetch&&this.cancellableFetch.cancel()}},{key:"renderCards",value:function(){var e=this.state.data,t=this.props.defaultLogo;return e.hits.map((function(e){return f.createElement(L,{key:e.id,community:e,defaultLogo:t})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.data,n=this.props.emptyMessage;return f.createElement(x,{isLoading:t},0===a.hits.length?f.createElement(R,{message:n}):f.createElement(A.A.Group,{doubling:!0,stackable:!0,itemsPerRow:5,className:"community-frontpage-cards"},this.renderCards()))}}])}(f.Component);q.propTypes={fetchDataUrl:N().string.isRequired,defaultLogo:N().string.isRequired,emptyMessage:N().string.isRequired};const P=q},23914:(e,t,a)=>{a.d(t,{A:()=>C});var n=a(23029),l=a(92901),r=a(56822),i=a(53954),s=a(85501),c=a(38102),o=a(92516),m=a.n(o),u=a(5556),d=a.n(u),p=a(96540),h=a(81057),f=a(53196),E=a(23848),g=a(1489),b=a(27041),v=a(3487),A=a(76217);function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}var N=function(e){function t(){return(0,n.A)(this,t),e=this,a=t,l=arguments,a=(0,i.A)(a),(0,r.A)(e,y()?Reflect.construct(a,l||[],(0,i.A)(e).constructor):a.apply(e,l));var e,a,l}return(0,s.A)(t,e),(0,l.A)(t,[{key:"render",value:function(){var e=this.props,t=e.community,a=e.defaultLogo,n=e.className,l=e.showUploadBtn,r=e.canSubmitRecord;return p.createElement(f.default,{id:"InvenioCommunities.CarouselItem.layout",community:t,defaultLogo:a,className:n},p.createElement(E.A,{className:"carousel flex align-items-center ".concat(n),key:t.id},p.createElement(h.Image,{size:"small",src:t.links.logo,fallbackSrc:a}),p.createElement(E.A.Content,null,p.createElement(E.A.Header,{as:g.A,stackable:!0,className:"rel-pb-1"},p.createElement(g.A.Column,{computer:"10",tablet:"16",className:"pl-0 pb-0"},p.createElement(b.A,{as:"a",size:"medium",href:t.links.self_html},t.metadata.title)),p.createElement(g.A.Column,{computer:"6",tablet:"16",className:"buttons pl-0 pb-0"},p.createElement(v.A,{size:"mini",href:t.links.self_html,content:c.M.t("Browse")}),l&&p.createElement(p.Fragment,null,p.createElement(v.A,{size:"mini",icon:"upload",labelPosition:"left",positive:!0,href:"/uploads/new?community=".concat(t.slug),content:c.M.t("New upload"),disabled:!r}),!r&&p.createElement(h.InvenioPopup,{popupId:"community-inclusion-info-popup",size:"small",trigger:p.createElement(A.A,{className:"mb-5",color:"grey",name:"question circle outline"}),ariaLabel:c.M.t("Submission to this community is only allowed to community members."),content:c.M.t("Submission to this community is only allowed to community members.")})))),p.createElement(E.A.Description,{content:m()(t.metadata.description,{length:300})}))))}}])}(p.Component);N.propTypes={community:d().object.isRequired,defaultLogo:d().string.isRequired,className:d().string,showUploadBtn:d().bool,canSubmitRecord:d().bool.isRequired},N.defaultProps={className:"",showUploadBtn:!0};const C=f.default.component("InvenioCommunities.CarouselItem",N)},24508:(e,t,a)=>{a.d(t,{A:()=>P});var n=a(10467),l=a(23029),r=a(92901),i=a(56822),s=a(53954),c=a(85501),o=a(64467),m=a(54756),u=a.n(m),d=a(38102),p=a(62193),h=a.n(p),f=a(5556),E=a.n(f),g=a(96540),b=a(81057),v=a(53196),A=a(27089),y=a(27041),N=a(1489),C=a(23848),w=a(24941),k=a(76217),x=a(80124),R=a(23914);function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}var q=function(e){function t(e){var a,r,c,m;return(0,l.A)(this,t),r=this,c=t,m=[e],c=(0,s.A)(c),a=(0,i.A)(r,L()?Reflect.construct(c,m||[],(0,s.A)(r).constructor):c.apply(r,m)),(0,o.A)(a,"getDataIndex",(function(e){var t=a.props.itemsPerPage,n=a.state.data.hits,l=e*parseInt(t);return l>n.length-1?0:l<0?n.length-1:l})),(0,o.A)(a,"runCarousel",function(){var e=(0,n.A)(u().mark((function e(t){var n,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.activeIndex,l=t<n?"right":"left",e.next=4,a.setState({animationDirection:l});case 4:a.setState({activeIndex:a.getDataIndex(t)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.A)(a,"setCarouselTimer",(function(){var e=a.state,t=e.data.hits,n=e.activeIndex,l=a.props.intervalDelay;a.setState({carouselTimer:setInterval((function(){t&&a.runCarousel(n+1)}),l)})})),(0,o.A)(a,"stopCarousel",(function(){var e=a.state.carouselTimer;clearInterval(e)})),(0,o.A)(a,"startCarousel",(function(){a.setCarouselTimer()})),(0,o.A)(a,"fetchData",(0,n.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.fetchUrl,a.cancellableFetch=(0,b.withCancel)(b.http.get(t)),e.prev=2,e.next=5,a.cancellableFetch.promise;case 5:n=e.sent,a.setState({data:n.data.hits}),a.setCarouselTimer(),a.setState({isLoading:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0),a.setState({isLoading:!1});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))),(0,o.A)(a,"renderPlaceholder",(function(){var e=a.props.title;return g.createElement(A.A,{fluid:!0,className:"rel-pt-2 rel-pb-2 ml-0-mobile mr-0-mobile"},g.createElement(A.A,null,g.createElement(y.A,{as:"h2",className:"rel-mb-1"},e)),g.createElement(N.A,{container:!0},g.createElement(N.A.Column,{width:"2"}),g.createElement(N.A.Column,{width:"12"},g.createElement(C.A.Group,null,g.createElement(C.A,null,g.createElement(C.A.Image,null,g.createElement(w.A,null,g.createElement(w.A.Image,{square:!0}))),g.createElement(C.A.Content,null,g.createElement(C.A.Header,{className:"mt-5 rel-mb-2"},g.createElement(w.A,null,g.createElement(w.A.Header,null,g.createElement(w.A.Line,null)))),g.createElement(C.A.Description,null,g.createElement(w.A,null,g.createElement(w.A.Paragraph,null,g.createElement(w.A.Line,null),g.createElement(w.A.Line,null),g.createElement(w.A.Line,null)))))))),g.createElement(N.A.Column,{width:"2"})))})),(0,o.A)(a,"carouselSlides",(function(){var e,t=a.state,n=t.data,l=t.activeIndex,r=a.props,i=r.defaultLogo,s=r.itemsPerPage,c=r.showUploadBtn,o=parseInt(l)+parseInt(s);return null===(e=n.hits)||void 0===e?void 0:e.slice(l,o).map((function(e){var t=e.ui.permissions.can_submit_record;return g.createElement(R.A,{community:e,defaultLogo:i,key:e.id,showUploadBtn:c,canSubmitRecord:t})}))})),a.state={data:{hits:[]},activeIndex:0,animationDirection:"left",carouselTimer:null,isLoading:!0},a}return(0,c.A)(t,e),(0,r.A)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){this.cancellableFetch&&this.cancellableFetch.cancel(),this.stopCarousel()}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.animationDirection,l=t.activeIndex,r=t.isLoading,i=this.props,s=i.title,c=i.animationSpeed,o=i.itemsPerPage;return g.createElement(v.default,{id:"InvenioCommunities.CommunitiesCarousel.layout",data:a,animationDirection:n,activeIndex:l,title:s,animationSpeed:c,carouselSlides:this.carouselSlides(),stopCarousel:this.stopCarousel,startCarousel:this.startCarousel,runCarousel:this.runCarousel,itemsPerPage:o},g.createElement(g.Fragment,null,r&&this.renderPlaceholder(),!r&&!h()(a.hits)&&g.createElement(A.A,{fluid:!0,className:"carousel rel-pt-2 rel-pb-2 ml-0-mobile mr-0-mobile"},g.createElement(A.A,{className:"rel-mb-1"},g.createElement(y.A,{as:"h2"},s)),g.createElement(N.A,{container:!0,onFocus:this.stopCarousel,onBlur:this.startCarousel},g.createElement(N.A.Column,{width:"2",className:"pr-0",verticalAlign:"middle",textAlign:"left"},g.createElement(k.A,{className:"carousel-arrow",inverted:!0,role:"button",name:"angle left",size:"huge","aria-label":d.M.t("Previous slide"),onClick:function(){return e.runCarousel(l-1)},onKeyDown:function(t){return"Enter"===t.key&&e.runCarousel(l-1)},tabIndex:"0"})),g.createElement(N.A.Column,{width:"12"},g.createElement(x.A.Group,{as:C.A.Group,className:"flex align-items-center justify-center",duration:c,animation:"carousel-slide ".concat(n),directional:!0},this.carouselSlides())),g.createElement(N.A.Column,{width:"2",className:"pl-0",verticalAlign:"middle",textAlign:"right"},g.createElement(k.A,{className:"carousel-arrow",inverted:!0,role:"button",name:"angle right",size:"huge","aria-label":d.M.t("Next slide"),onClick:function(){return e.runCarousel(l+1)},onKeyDown:function(t){return"Enter"===t.key&&e.runCarousel(l+1)},tabIndex:"0"}))))))}}])}(g.Component);q.propTypes={title:E().string.isRequired,fetchUrl:E().string.isRequired,intervalDelay:E().number.isRequired,animationSpeed:E().number.isRequired,defaultLogo:E().string.isRequired,itemsPerPage:E().string.isRequired,showUploadBtn:E().bool},q.defaultProps={showUploadBtn:!0};const P=v.default.component("InvenioCommunities.CommunitiesCarousel",q)},60164:(e,t,a)=>{a.d(t,{A:()=>C});var n=a(10467),l=a(23029),r=a(92901),i=a(56822),s=a(53954),c=a(85501),o=a(64467),m=a(54756),u=a.n(m),d=a(96540),p=a(81057),h=a(28930),f=a(27089),E=a(87395),g=a(1489),b=a(67396),v=a(5556),A=a.n(v),y=a(38102);function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}var C=function(e){function t(e){var a,r,c,m;return(0,l.A)(this,t),r=this,c=t,m=[e],c=(0,s.A)(c),a=(0,i.A)(r,N()?Reflect.construct(c,m||[],(0,s.A)(r).constructor):c.apply(r,m)),(0,o.A)(a,"fetchData",(0,n.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),a.cancellableFetch=(0,p.withCancel)(p.http.get("/api/communities/featured")),e.prev=2,e.next=5,a.cancellableFetch.promise;case 5:t=e.sent,a.setState({data:t.data.hits,isLoading:!1}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),n=e.t0.message,e.t0.response&&(n=e.t0.response.data.message),a.setState({error:n,isLoading:!1});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))),a.state={data:void 0,error:void 0,isLoading:!1},a}return(0,c.A)(t,e),(0,r.A)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){this.cancellableFetch&&this.cancellableFetch.cancel()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.error,n=e.isLoading,l=this.props,r=l.columnNumber,i=l.widescreenColumnWidth,s=l.mobileColumnWidth,c=l.tabletColumnWidth,o=l.computerColumnWidth;return n?d.createElement(h.A,{active:!0,inline:"centered"}):a?d.createElement(f.A,null,d.createElement(E.A,{negative:!0},d.createElement(E.A.Header,null,y.M.t("An error occurred.")),d.createElement("p",null,a))):null!==t&&void 0!==t&&t.hits?d.createElement(g.A,{className:"featured-communities",columns:r,centered:!0},t.hits.map((function(e){return d.createElement(b.A,{key:e.id,community:e,mobileColumnWidth:s,tabletColumnWidth:c,computerColumnWidth:o,widescreenColumnWidth:i})}))):""}}])}(d.Component);C.propTypes={columnNumber:A().string.isRequired,mobileColumnWidth:A().string.isRequired,tabletColumnWidth:A().string.isRequired,computerColumnWidth:A().string.isRequired,widescreenColumnWidth:A().string.isRequired}},67396:(e,t,a)=>{a.d(t,{A:()=>E});var n=a(23029),l=a(92901),r=a(56822),i=a(53954),s=a(85501),c=a(96540),o=a(1489),m=a(2685),u=a(27041),d=a(5556),p=a.n(d),h=a(81057);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}var E=function(e){function t(){return(0,n.A)(this,t),e=this,a=t,l=arguments,a=(0,i.A)(a),(0,r.A)(e,f()?Reflect.construct(a,l||[],(0,i.A)(e).constructor):a.apply(e,l));var e,a,l}return(0,s.A)(t,e),(0,l.A)(t,[{key:"render",value:function(){var e=this.props,t=e.computerColumnWidth,a=e.mobileColumnWidth,n=e.tabletColumnWidth,l=e.widescreenColumnWidth,r=e.community;return c.createElement(o.A.Column,{mobile:a,tablet:n,widescreen:l,computer:t,textAlign:"center"},c.createElement(m.A,{compact:!0,className:"m-auto"},c.createElement("a",{href:r.links.self_html},c.createElement("div",{className:"featured-community"},c.createElement(h.Image,{className:"m-auto",src:r.links.logo}),c.createElement(u.A,{as:"h3"},r.metadata.title)))))}}])}(c.Component);E.propTypes={computerColumnWidth:p().number.isRequired,mobileColumnWidth:p().number.isRequired,tabletColumnWidth:p().number.isRequired,widescreenColumnWidth:p().number.isRequired,community:p().object.isRequired}},78585:(e,t,a)=>{a.d(t,{Lq:()=>x.A,R5:()=>T,iU:()=>q,z3:()=>j,_I:()=>S,mG:()=>k,zv:()=>v,AV:()=>D});a(23914),a(24508),a(60164),a(67396);var n=a(96540),l=a(5556),r=a.n(l),i=a(38102),s=a(76217),c=a(28085),o=function(e){var t=e.type,a=e.transparent;return void 0===t?null:a&&n.createElement("div",{className:"rel-mr-1"},n.createElement(s.A,{name:"tag"}),t)||n.createElement(c.A,{size:"small",horizontal:!0,className:"primary"},n.createElement(s.A,{name:"tag"}),t)};o.propTypes={type:r().string,transparent:r().bool},o.defaultProps={type:void 0,transparent:!1};var m=function(e){return"restricted"===e.access&&n.createElement(c.A,{size:"small",horizontal:!0,className:"negative"},n.createElement(s.A,{name:"ban"}),i.M.t("Restricted"))};m.propTypes={access:r().string.isRequired};var u=a(81057),d=a(1489),p=a(27041),h=a(93682),f=a(3487),E=a(95166),g=function(e){var t,a,l=e.result,r=null===(t=l.ui)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.title_l10n,c=null===(a=l.ui)||void 0===a||null===(a=a.permissions)||void 0===a?void 0:a.can_update;return n.createElement(d.A,{className:"computer tablet only item community-item"},n.createElement(d.A.Column,{tablet:c?13:16,computer:13,verticalAlign:"middle",className:"pl-0"},n.createElement("div",{className:"flex align-items-center"},n.createElement(u.Image,{wrapped:!0,src:l.links.logo,size:"tiny",className:"community-image rel-mr-2",alt:""}),n.createElement("div",null,"restricted"===l.access.visibility&&n.createElement("div",{className:"rel-mb-1"},n.createElement(m,{access:l.access.visibility})),n.createElement(p.A,{as:"a",className:"ui medium header",href:l.links.self_html},l.metadata.title,l.parent&&n.createElement("p",{className:"ml-5 display-inline-block"},n.createElement(h.A,{content:"Verified community",trigger:n.createElement(s.A,{size:"small",color:"green",name:"check circle outline"}),position:"top center"}))),l.metadata.description&&n.createElement("p",{className:"truncate-lines-1 text size small text-muted mt-5"},l.metadata.description),l.parent&&n.createElement("div",{className:"sub header"},"Part of"," ",n.createElement("a",{href:"/communities/".concat(l.parent.slug)},l.parent.metadata.title)),(r||l.metadata.website||l.metadata.organizations)&&n.createElement("div",{className:"flex align-items-center wrap mt-5 text size small text-muted"},r&&n.createElement(o,{transparent:!0,type:r}),l.metadata.website&&n.createElement("div",{className:"rel-mr-1"},n.createElement(s.A,{name:"linkify"}),n.createElement("a",{href:l.metadata.website,target:"_blank",rel:"noopener noreferrer",className:"text-muted"},l.metadata.website)),l.metadata.organizations&&n.createElement(E.A,{organizations:l.metadata.organizations}))))),c&&n.createElement(d.A.Column,{width:3,textAlign:"right",className:"pr-0"},n.createElement("div",null,n.createElement(f.A,{compact:!0,size:"small",href:l.links.settings_html,className:"mt-0 mr-0",labelPosition:"left",icon:"edit",content:i.M.t("Edit")}))))};g.propTypes={result:r().object.isRequired};var b=function(e){var t,a=e.result,l=(e.index,null===(t=a.ui)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.title_l10n),r=a.ui.permissions.can_update;return n.createElement(d.A,{className:"mobile only item community-item"},"restricted"===a.access.visibility&&n.createElement(d.A.Row,null,n.createElement(d.A.Column,{width:16,verticalAlign:"middle",className:"pl-0 pr-0"},n.createElement(m,{access:a.access.visibility}))),n.createElement(d.A.Row,null,n.createElement(d.A.Column,{width:r?11:16,verticalAlign:"middle",className:"pl-0 pr-0"},n.createElement("div",{className:"flex align-items-center"},n.createElement(u.Image,{wrapped:!0,src:a.links.logo,size:"mini",className:"community-image rel-mr-1",alt:""}),n.createElement("div",null,n.createElement(p.A,{as:"a",className:"ui medium header",href:a.links.self_html},a.metadata.title,a.parent&&n.createElement("p",{className:"ml-5 display-inline-block"},n.createElement(h.A,{content:"Verified community",trigger:n.createElement(s.A,{size:"small",color:"green",name:"check circle outline"}),position:"top center"})))))),r&&n.createElement(d.A.Column,{width:5,verticalAlign:"middle",textAlign:"right",className:"pr-0"},n.createElement(f.A,{compact:!0,size:"tiny",href:a.links.settings_html,className:"mt-0 mr-0",labelPosition:"left",icon:"edit",content:i.M.t("Edit")}))),a.metadata.description&&n.createElement(d.A.Row,{className:"pt-0"},n.createElement(d.A.Column,{width:16,className:"pl-0 pr-0"},n.createElement("p",{className:"truncate-lines-1 text size small text-muted mt-5"},a.metadata.description))),a.parent&&n.createElement("div",{className:"pl-0 sub header"},"Part of"," ",n.createElement("a",{href:"/communities/".concat(a.parent.slug)},a.parent.metadata.title)),(l||a.metadata.website||a.metadata.organizations)&&n.createElement(d.A.Row,{className:"pt-0"},n.createElement(d.A.Column,{width:16,verticalAlign:"bottom",className:"pl-0 pr-0"},n.createElement("div",{className:"text size small text-muted"},l&&n.createElement("div",{className:"mb-5"},n.createElement(o,{transparent:!0,type:l})),a.metadata.website&&n.createElement("div",{className:"rel-mr-1 mb-5"},n.createElement(s.A,{name:"linkify"}),n.createElement("a",{href:a.metadata.website,target:"_blank",rel:"noopener noreferrer",className:"text-muted"},a.metadata.website)),a.metadata.organizations&&n.createElement(E.A,{organizations:a.metadata.organizations})))))};function v(e){var t=e.result;return n.createElement(n.Fragment,null,n.createElement(g,{result:t}),n.createElement(b,{result:t}))}b.propTypes={result:r().object.isRequired,index:r().string},b.defaultProps={index:null},v.propTypes={result:r().object.isRequired};var A=a(92516),y=a.n(A),N=a(23848),C=function(e){var t,a,l=e.result,r=e.actions,d=e.extraLabels,p=e.itemClassName,f=e.showPermissionLabel,E=e.detailUrl,g=e.isCommunityDefault,b=l.metadata,v=l.ui,A=l.links,C=l.access,w=l.id,k=null===v||void 0===v||null===(t=v.type)||void 0===t?void 0:t.title_l10n;return n.createElement(N.A,{key:w,className:"community-item tablet computer only display-grid auto-column-grid no-wrap ".concat(p)},n.createElement("div",{className:"flex align-items-center"},n.createElement(u.Image,{wrapped:!0,size:"tiny",src:A.logo,alt:"",className:"community-image rel-mr-2"}),n.createElement("div",null,n.createElement("div",{className:"flex align-items-center rel-mb-1"},n.createElement("a",{href:E||A.self_html,className:"ui small header truncate-lines-2 m-0 mr-5",target:"_blank",rel:"noreferrer","aria-label":"".concat(b.title," (").concat(i.M.t("opens in new tab"),")")},b.title,l.parent&&n.createElement("p",{className:"ml-5 display-inline-block"},n.createElement(h.A,{content:"Verified community",trigger:n.createElement(s.A,{size:"small",color:"green",name:"check circle outline"}),position:"top center"}))),n.createElement("i",{className:"small icon external primary","aria-hidden":"true"})),b.description&&n.createElement("p",{className:"truncate-lines-1 text size small text-muted mt-5 rel-mb-1"},y()(b.description,{length:50})),n.createElement("div",{className:"rel-mt-1"},("restricted"===l.access.visibility||k||d)&&n.createElement(n.Fragment,null,n.createElement(m,{access:C.visibility}),n.createElement(o,{type:k}),d),g&&n.createElement(c.A,{color:"purple",size:"tiny"},n.createElement(s.A,{name:"paint brush"}),i.M.t("Branding"))))),n.createElement("div",{className:"flex align-items-center justify-end"},f&&n.createElement("span",{className:"rel-mr-1"},(null===v||void 0===v||null===(a=v.permissions)||void 0===a?void 0:a.can_include_directly)&&n.createElement(u.InvenioPopup,{popupId:"direct-publish-info-popup",size:"small",trigger:n.createElement(s.A,{name:"paper plane outline neutral",size:"large"}),ariaLabel:i.M.t("Submission information"),content:i.M.t("Submission to this community does not require review, and will be published immediately.")})),r))};C.propTypes={result:r().object.isRequired,actions:r().node,extraLabels:r().node,itemClassName:r().string,showPermissionLabel:r().bool,detailUrl:r().string,isCommunityDefault:r().bool.isRequired},C.defaultProps={actions:void 0,extraLabels:void 0,itemClassName:"",showPermissionLabel:!1,detailUrl:void 0};var w=function(e){var t,a,l=e.result,r=e.actions,d=e.extraLabels,p=e.itemClassName,f=e.showPermissionLabel,E=e.detailUrl,g=e.isCommunityDefault,b=null===(t=l.ui)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.title_l10n,v=l.metadata,A=l.ui,N=l.links,C=l.access,w=l.id;return n.createElement("div",{key:w,className:"community-item mobile only ".concat(p)},n.createElement("div",{className:"display-grid auto-column-grid no-wrap"},n.createElement("div",{className:"flex align-items-center"},n.createElement(u.Image,{wrapped:!0,size:"mini",src:N.logo,alt:"",className:"community-image rel-mr-1"}),n.createElement("div",{className:"flex align-items-center rel-mb-1"},n.createElement("a",{href:E||N.self_html,className:"ui small header truncate-lines-2 m-0 mr-5",target:"_blank",rel:"noreferrer","aria-label":"".concat(v.title," (").concat(i.M.t("opens in new tab"),")")},v.title,l.parent&&n.createElement("p",{className:"ml-5 display-inline-block"},n.createElement(h.A,{content:"Verified community",trigger:n.createElement(s.A,{size:"small",color:"green",name:"check circle outline"}),position:"top center"}))),n.createElement("i",{className:"small icon external primary","aria-hidden":"true"}))),n.createElement("div",{className:"flex align-items-center justify-end"},f&&n.createElement("span",{className:"rel-mr-1"},(null===A||void 0===A||null===(a=A.permissions)||void 0===a?void 0:a.can_include_directly)&&n.createElement(u.InvenioPopup,{popupId:"direct-publish-info-popup",size:"small",trigger:n.createElement(s.A,{name:"paper plane outline neutral",size:"large"}),ariaLabel:i.M.t("Submission information"),content:i.M.t("Submission to this community does not require review, and will be published immediately.")})),r)),n.createElement("div",{className:"full-width"},v.description&&n.createElement("p",{className:"truncate-lines-1 text size small text-muted mt-5 rel-mb-1"},y()(v.description,{length:50})),n.createElement("div",{className:"rel-mt-1"},("restricted"===l.access.visibility||b||d)&&n.createElement(n.Fragment,null,n.createElement(m,{access:C.visibility}),n.createElement(o,{type:b}),d),g&&n.createElement(c.A,{color:"purple",size:"tiny"},n.createElement(s.A,{name:"paint brush"}),i.M.t("Branding")))))};function k(e){var t=e.result,a=e.actions,l=e.extraLabels,r=e.itemClassName,i=e.showPermissionLabel,s=e.detailUrl,c=e.isCommunityDefault;return n.createElement(n.Fragment,null,n.createElement(C,{result:t,actions:a,extraLabels:l,itemClassName:r,showPermissionLabel:i,detailUrl:s,isCommunityDefault:c}),n.createElement(w,{result:t,actions:a,extraLabels:l,itemClassName:r,showPermissionLabel:i,detailUrl:s,isCommunityDefault:c}))}w.propTypes={result:r().object.isRequired,extraLabels:r().node,itemClassName:r().string,showPermissionLabel:r().bool,actions:r().node,detailUrl:r().string,isCommunityDefault:r().bool.isRequired},w.defaultProps={actions:void 0,extraLabels:void 0,itemClassName:"",showPermissionLabel:!1,detailUrl:void 0},k.propTypes={result:r().object.isRequired,actions:r().node,extraLabels:r().node,itemClassName:r().string,showPermissionLabel:r().bool,detailUrl:r().string,isCommunityDefault:r().bool.isRequired},k.defaultProps={actions:void 0,extraLabels:void 0,itemClassName:"",showPermissionLabel:!1,detailUrl:void 0};var x=a(8621),R=a(6688),L=a(98871),q=function(e){var t=e.paginationOptions,a=e.currentResultsState.data.total;return a&&n.createElement(d.A,null,n.createElement(d.A.Row,null,n.createElement(d.A.Column,null,n.createElement(L.dy,null))),n.createElement(R.xD,{total:a,paginationOptions:t}))};q.propTypes={paginationOptions:r().object.isRequired,currentResultsState:r().object.isRequired};var P=a(80296),z=a(27089),S=function(e){var t=e.config,a=e.appName,l=n.useState(!1),r=(0,P.A)(l,2),s=r[0],c=r[1];return n.createElement(z.A,null,n.createElement(d.A,null,n.createElement(d.A.Row,{className:"mobile tablet only"},n.createElement(d.A.Column,{mobile:2,tablet:1,verticalAlign:"middle",className:"mt-10"},n.createElement(f.A,{basic:!0,icon:"sliders",onClick:function(){return c(!0)},"aria-label":i.M.t("Filter results")})),n.createElement(d.A.Column,{mobile:14,tablet:15,floated:"right",className:"mt-10"},n.createElement(L.IW,{placeholder:i.M.t("Search communities...")}))),n.createElement(d.A.Row,{className:"mobile tablet only"},n.createElement(d.A.Column,{width:16,textAlign:"right"},t.sortOptions&&n.createElement(L.FU,{values:t.sortOptions,label:function(e){return n.createElement(n.Fragment,null,n.createElement("label",{className:"mr-10"},i.M.t("Sort by")),e)}}))),n.createElement(d.A.Row,{className:"computer only"},n.createElement(d.A.Column,{width:8,floated:"right"},n.createElement(L.IW,{placeholder:i.M.t("Search communities...")})),n.createElement(d.A.Column,{width:4,textAlign:"right"},t.sortOptions&&n.createElement(L.FU,{values:t.sortOptions,label:function(e){return n.createElement(n.Fragment,null,n.createElement("label",{className:"mr-10"},i.M.t("Sort by")),e)}}))),n.createElement(d.A.Row,null,n.createElement(u.GridResponsiveSidebarColumn,{width:4,open:s,onHideClick:function(){return c(!1)},children:n.createElement(R.gf,{aggs:t.aggs,appName:a})}),n.createElement(d.A.Column,{mobile:16,tablet:16,computer:12},n.createElement(R.s9,{layoutOptions:t.layoutOptions,appName:a})))))};S.propTypes={config:r().object.isRequired,appName:r().string},S.defaultProps={appName:""};var I=a(83794),D=function(e){var t=e.result;return n.createElement(I.A,{fluid:!0,href:"/communities/".concat(t.slug)},n.createElement(I.A.Content,null,n.createElement(I.A.Header,null,t.metadata.title),n.createElement(I.A.Description,null,n.createElement("div",{className:"truncate-lines-2"},t.metadata.description))))};D.propTypes={result:r().object.isRequired};var M=a(64467),O=a(92257);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,M.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=(0,L.Q2)((function(e){var t=e.placeholder,a=e.queryString,l=e.onInputChange,r=e.updateQueryState,s=e.currentQueryState,c=t||i.M.t("Search"),o=function(){r(U(U({},s),{},{queryString:a}))};return n.createElement(O.A,{action:{icon:"search",onClick:function(){o()},className:"search","aria-label":i.M.t("Search")},fluid:!0,placeholder:c,"aria-label":c,onChange:function(e,t){var a=t.value;l(a)},value:a,onKeyPress:function(e){"Enter"===e.key&&o()}})})),F=a(2685),T=function(e){var t=e.queryString,a=e.resetQuery;return n.createElement(F.A,{placeholder:!0,textAlign:"center"},n.createElement(p.A,{icon:!0},n.createElement(s.A,{name:"search"}),i.M.t("No communities found!")),t&&n.createElement(f.A,{primary:!0,onClick:function(){return a()}},i.M.t("Reset search")))};T.propTypes={queryString:r().string.isRequired,resetQuery:r().func.isRequired}},95166:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(96540),l=a(5556),r=a.n(l),i=a(93682),s=function(e){var t=e.organizations;return n.createElement("div",null,t&&t.length>0&&n.createElement("div",null,n.createElement("span",{className:"org-list-inline"},n.createElement("i",{className:"building outline icon","aria-hidden":"true"}),t[0].id?n.createElement("a",{href:t[0].url,"aria-label":"".concat(t[0].name,"'s ").concat(t[0].label," profile"),title:"".concat(t[0].name,"'s ").concat(t[0].label," profile"),target:"_blank",rel:"noreferrer"},t[0].name,n.createElement("span",null,"\xa0"),n.createElement("img",{className:"inline-id-icon",src:t[0].icon,alt:"".concat(t[0].name,"'s ").concat(t[0].label," profile")})):t[0].name),t.length>1&&n.createElement("span",{className:"ml-1"},"\xa0and\xa0",n.createElement(i.A,{trigger:n.createElement("a",{href:"#!",onClick:function(e){e.preventDefault()}},"".concat(t.length-1," more organizations")),size:"small",wide:"very",content:n.createElement("div",{className:"expanded-orgs"},t.slice(1).map((function(e,a){return n.createElement("div",{key:e.id||e.name,className:"inline-computer mt-5"},e.id?n.createElement("a",{href:e.url,"aria-label":"".concat(e.name,"'s ").concat(e.label," profile"),title:"".concat(e.name,"'s ").concat(e.label," profile"),target:"_blank",rel:"noreferrer"},e.name,n.createElement("span",null,"\xa0"),n.createElement("img",{className:"inline-id-icon",src:e.icon,alt:"".concat(e.name,"'s ").concat(e.label," profile")})):e.name,a<t.length-2&&n.createElement("span",null,", ","\xa0"))}))),on:"click",position:"bottom left",positionFixed:!0}))))};s.propTypes={organizations:r().arrayOf(r().shape({id:r().string,name:r().string.isRequired,label:r().string,icon:r().string,url:r().string})).isRequired};const c=s}}]);
//# sourceMappingURL=8585.49a590a31741266d723d.js.map