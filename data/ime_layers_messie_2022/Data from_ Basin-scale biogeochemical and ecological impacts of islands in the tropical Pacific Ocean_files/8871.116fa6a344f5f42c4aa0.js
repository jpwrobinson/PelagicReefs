(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[8871],{76001:(e,t,r)=>{var a=r(97420),n=r(80631);e.exports=function(e,t){return a(e,t,(function(t,r){return n(e,r)}))}},69302:(e,t,r)=>{var a=r(83488),n=r(56757),l=r(32865);e.exports=function(e,t){return l(n(e,t,a),e+"")}},20999:(e,t,r)=>{var a=r(69302),n=r(36800);e.exports=function(e){return a((function(t,r){var a=-1,l=r.length,s=l>1?r[l-1]:void 0,i=l>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(l--,s):void 0,i&&n(r[0],r[1],i)&&(s=l<3?void 0:s,l=1),t=Object(t);++a<l;){var o=r[a];o&&e(t,o,a,s)}return t}))}},36800:(e,t,r)=>{var a=r(75288),n=r(64894),l=r(30361),s=r(23805);e.exports=function(e,t,r){if(!s(r))return!1;var i=typeof t;return!!("number"==i?n(r)&&l(t,r.length):"string"==i&&t in r)&&a(r[t],e)}},54664:(e,t,r)=>{var a=r(21791),n=r(20999),l=r(37241),s=n((function(e,t){a(t,l(t),e)}));e.exports=s},43346:(e,t,r)=>{e.exports=r(54664)},912:e=>{e.exports=function(e){return e&&e.length?e[0]:void 0}},53812:(e,t,r)=>{var a=r(72552),n=r(40346);e.exports=function(e){return!0===e||!1===e||n(e)&&"[object Boolean]"==a(e)}},85015:(e,t,r)=>{var a=r(72552),n=r(56449),l=r(40346);e.exports=function(e){return"string"==typeof e||!n(e)&&l(e)&&"[object String]"==a(e)}},44383:(e,t,r)=>{var a=r(76001),n=r(38816)((function(e,t){return null==e?{}:a(e,t)}));e.exports=n},98871:(e,t,r)=>{var a=r(62193),n=r(86425),l=r(58156),s=r(80631),i=r(55373),o=r(43346),u=r(912),d=r(56449),c=r(44383),p=r(88055),h=r(53812),g=r(23805),f=r(85015),y=r(98023),m=r(61225),S=r(96540),v=r(53196),b=r(67273),C=r(68238),E=r(1265),I=r(2543);function Q(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var x=Q(a),R=Q(n),P=Q(l),O=Q(s),F=Q(i),L=Q(o),k=Q(u),A=Q(d),w=Q(c),B=Q(p),U=Q(h),q=Q(g),_=Q(f),N=Q(y),z=Q(S),T=Q(v),V=Q(E),D=Q(I);class ${constructor(){this.serialize=this.serialize.bind(this)}serialize(e){const{queryString:t,sortBy:r,sortOrder:a,page:n,size:l}=e,s={};if(x.default(t)||(s.query={query_string:{query:t}}),r){const e={};e[r]=a&&"desc"===a?"desc":"asc",s.sort=e}if(l>0&&(s.size=l),n>0){const e=(n-1)*(l>0?l:0);s.from=e}return s}}class M{constructor(){this.serialize=this.serialize.bind(this)}serialize(e){const{aggregations:t,hits:r}=e;return{aggregations:t||{},hits:r.hits.map((e=>e._source)),total:r.total.value}}}function H(){}H.prototype=new Error;class j{constructor(){this._addFilter=(e,t)=>{if(!Array.isArray(e))throw new Error(`Filter value "${e}" in query state must be an array.`);if(2!==e.length&&3!==e.length)throw new Error(`Filter value "${e}" in query state must be an array of 2 or 3 elements`);const r=3===e.length;var a=e[0],n=e[1];if(r){if(!Array.isArray(e[2]))throw new Error(`Filter value "${e[2]}" in query state must be an array.`);n=n+"::"+e[2][1]}a in t?t[a].push(n):t[a]=[n]},this._addFilters=e=>{if(!Array.isArray(e))throw new Error(`Filters query state "${e}" must be an array.`);const t={};return e.forEach((e=>{this._addFilter(e,t)})),t},this.serialize=this.serialize.bind(this)}serialize(e){const{queryString:t,sortBy:r,sortOrder:a,page:n,size:l,filters:s,hiddenParams:i}=e;let o={};null!==t&&(o.q=t),null!==r&&(o.sort=r,null!==a&&(o.sort="desc"===a?`-${r}`:r)),n>0&&(o.page=n),l>0&&(o.size=l),x.default(i)||L.default(o,this._addFilters(i));const u=this._addFilters(s);return L.default(o,u),F.default.stringify(o,{arrayFormat:"repeat"})}}class Y{constructor(){this.serialize=this.serialize.bind(this)}serialize(e){const{aggregations:t,hits:r,...a}=e;return{aggregations:t||{},hits:r.hits,total:r.total,extras:a}}}function G(e,t){return 0===e.indexOf(t)&&(e.length===t.length||0===e.indexOf(t+"&"))}function W(e){return F.default.stringify({q:e})}function Z(e){if(3===e.length){const t=[e[0],e[1]],r=Z(e[2]);return r.length&&t.push(r),t}return[]}function K(e,t){const r=W(e),a=t.map((e=>W(e)));let n=!1;const l=a.filter((e=>{const t=G(e,r),a=G(r,e);return t&&!n&&(n=!0),!t&&!a}));if(n){if(3===e.length){const t=W(Z(e)),r=l.some((e=>{const r=G(e,t),a=G(t,e);return r||a}));!x.default(l)&&r||l.push(t)}}else l.push(r);return l.map((e=>{return t=e,F.default.parse(t).q;var t}))}const X=(e,t)=>{if(x.default(e))return;if(!A.default(k.default(e)))return K(e,t);let r=t;for(const a of e)r=K(a,r);return r},J=(e,t,r)=>{let a=w.default(t,r);return x.default(a.filters)||(a.filters=X(a.filters,e.filters)),a},ee={queryString:"",suggestions:[],sortBy:null,sortOrder:null,page:-1,size:-1,filters:[],hiddenParams:[],layout:null},te=Object.keys(ee),re={loading:!1,data:{hits:[],total:0,aggregations:{}},error:{}},ae={hasUserChangedSorting:!1,initialSortBy:null,initialSortOrder:null};class ne{constructor(){this._checkFilter=e=>{if(!Array.isArray(e))throw new Error(`Filter value "${e}" in query state must be an array.`);if(2!==e.length&&3!==e.length)throw new Error(`Filter value "${e}" in query state must be an array of 2 or 3 elements`)},this._addFilter=(e,t)=>{this._checkFilter(e);const r=e[0],a=e[1],n=3===e.length;n&&this._checkFilter(e[2]),r in t?n?t[r].push(a+"::"+e[2][1]):t[r].push(a):t[r]=n?[a+"::"+e[2][1]]:[a]},this._addFilters=e=>{if(!Array.isArray(e))throw new Error(`Filters query state "${e}" must be an array.`);const t={};return e.forEach((e=>{this._addFilter(e,t)})),t},this.serialize=this.serialize.bind(this)}serialize(e){const{queryString:t,sortBy:r,sortOrder:a,page:n,size:l,filters:s,hiddenParams:i}=e;let o={};null!==t&&(o.q=t),null!==r&&(o.sort=r,null!==a&&(o.sort="desc"===a?`-${r}`:r)),n>0&&(o.page=n),l>0&&(o.size=l),x.default(i)||L.default(o,this._addFilters(i));const u=this._addFilters(s);return L.default(o,u),F.default.stringify(o,{arrayFormat:"repeat"})}}class le{constructor(e){this.axiosConfig=P.default(e,"axios",{}),this.validateAxiosConfig(),this.initSerializers(e),this.initInterceptors(e),this.initAxios(),this.search=this.search.bind(this),this.axiosCancelToken=R.default.CancelToken}validateAxiosConfig(){if(!O.default(this.axiosConfig,"url"))throw new Error("InvenioSearchApi config: `url` field is required.")}initInterceptors(e){this.requestInterceptor=P.default(e,"interceptors.request",void 0),this.responseInterceptor=P.default(e,"interceptors.response",void 0)}getSerializer(e){return"string"===typeof e?{InvenioRecordsResourcesRequestSerializer:ne,InvenioRequestSerializer:j}[e]:e||j}initSerializers(e){var t;const r=this.getSerializer(null===(t=e.invenio)||void 0===t?void 0:t.requestSerializer),a=P.default(e,"invenio.responseSerializer",Y);this.requestSerializer=new r,this.responseSerializer=new a}initAxios(){const e={paramsSerializer:this.requestSerializer.serialize,...this.axiosConfig};this.http=R.default.create(e),this.addInterceptors()}addInterceptors(){this.requestInterceptor&&this.http.interceptors.request.use(this.requestInterceptor.resolve,this.requestInterceptor.reject),this.responseInterceptor&&this.http.interceptors.request.use(this.responseInterceptor.resolve,this.responseInterceptor.reject)}async search(e){this.axiosCancel&&this.axiosCancel.cancel(),this.axiosCancel=this.axiosCancelToken.source();try{let t=await this.http.request({url:this.axiosConfig.url,params:e,cancelToken:this.axiosCancel.token});t=this.responseSerializer.serialize(t.data);const r=J(e,t.extras,te);return x.default(r)||(t.newQueryState=r),delete t.extras,t}catch(t){throw R.default.isCancel(t)?new H:t}}}class se{constructor(e){this.queryField=e,this.serialize=this.serialize.bind(this)}serialize(e){const{suggestionString:t}=e,r={};return null!==t&&(r.q=this.queryField+":"+t),F.default.stringify(r,{arrayFormat:"repeat",encode:!1})}}class ie{constructor(e){this._serializeSuggestions=e=>Array.from(new Set(e.map((e=>P.default(e.metadata,this.responseFieldPath))))),this.responseFieldPath=e.split("."),this.serialize=this.serialize.bind(this)}serialize(e){return{suggestions:this._serializeSuggestions(e.hits.hits||[])}}}class oe{constructor(){this.isValid=(e,t,r)=>{switch(t){case"queryString":case"sortBy":return!0;case"sortOrder":return["asc","desc"].includes(r);case"page":case"size":return N.default(r)&&r>0;case"layout":return["grid","list"].includes(r);case"filters":case"hiddenParams":{const t=A.default(r)?r:[r],a=":",n=e.urlFilterSeparator,l=`[^\\${a}\\${n}]*`,s=`${l}\\${a}${l}`,i=new RegExp(`^${`${s}(\\${n}${s})*`}$`);return t.every((e=>String(e).match(i)))}default:return!1}}}}const ue=e=>{window.history.replaceState&&window.history.replaceState({path:e},"",e)};class de{constructor(){this._convertValue=(e,t)=>{switch(e){case this.paramsMapping.page:case this.paramsMapping.size:return parseInt(t);default:return t}},this.parse=this.parse.bind(this),this.paramsMapping={}}set urlParamsMapping(e){this.paramsMapping=e}parse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=F.default.parse(e,{ignoreQueryPrefix:!0}),r={};return Object.entries(t).forEach((e=>{const t=e[0],a=e[1];r[t]=this._convertValue(t,a)})),r}}class ce{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._filterListToString=e=>{const t=3===e.length?this.urlFilterSeparator.concat(this._filterListToString(e[2])):"";return`${e[0]}:${e[1]}${t}`},this._mapQueryStateToUrlParams=e=>{const t={};Object.keys(e).filter((e=>e in this.urlParamsMapping)).filter((t=>("page"!==t&&"size"!==t||!(e[t]<=0))&&("hiddenParams"!==t&&null!==e[t]))).forEach((r=>{const a=this.urlParamsMapping[r];t[a]="filters"===r?e[r].map((e=>this._filterListToString(e))):e[r]}));return F.default.stringify(t,{addQueryPrefix:!0,skipNulls:!0,indices:!1,sort:(e,t)=>"q"===e?-1:"q"===t?1:e.localeCompare(t)})},this._filterStringToList=e=>{const t=e.indexOf(this.urlFilterSeparator),r=t>-1,a=e.indexOf(":");if(-1===a)throw new Error(`Filter "${e}" not parsable. Format expected: "<agg name>:<value>"`);const n=e.slice(0,a),l=r?t:e.length;let s=[n,e.slice(a+1,l)];if(r){const r=e.slice(t+1,e.length);s.push(this._filterStringToList(r))}return s},this._mapUrlParamsToQueryState=e=>{const t={};return Object.keys(e).forEach((r=>{const a=this.fromUrlParamsMapping[r];this.urlParamValidator.isValid(this,a,e[r])?(t[a]=e[r],"filters"===a&&(Array.isArray(e[r])||(e[r]=[e[r]]),t[a]=e[r].map((e=>this._filterStringToList(e))))):console.warn(`URL parameter '${r}' with value '${e[r]}' is incorrect and was ignored.`)})),t},this._mergeParamsIntoState=(e,t)=>{const r=B.default(t);return Object.keys(e).forEach((t=>{r[t]=e[t]})),r},this.urlParamsMapping=q.default(e.urlParamsMapping)?e.urlParamsMapping:{queryString:"q",sortBy:"sort",sortOrder:"order",page:"p",size:"s",layout:"l",filters:"f",hiddenParams:"hp"},this.keepHistory=void 0===e.keepHistory||e.keepHistory,!U.default(this.keepHistory))throw new Error(`"keepHistory configuration must be a boolean, ${this.keepHistory} provided.`);if(this.urlFilterSeparator=void 0!==e.urlFilterSeparator?e.urlFilterSeparator:"+",!_.default(this.urlFilterSeparator))throw new Error(`"urlFilterSeparator configuration must be a string, ${this.urlFilterSeparator} provided.`);this.urlParamValidator=e.urlParamValidator||new oe,this.urlParser=e.urlParser||new de,this.urlParser.urlParamsMapping=this.urlParamsMapping,this.fromUrlParamsMapping={},Object.keys(this.urlParamsMapping).forEach((e=>{this.fromUrlParamsMapping[this.urlParamsMapping[e]]=e})),this.get=this.get.bind(this),this.set=this.set.bind(this),this.replace=this.replace.bind(this)}get(e){const t=this.urlParser.parse(window.location.search),r=this._mapUrlParamsToQueryState(t),a=this._mergeParamsIntoState(r,e),n=this._mapQueryStateToUrlParams(a);return ue(n),a}set(e){if(this.keepHistory){const r=this._mapQueryStateToUrlParams(e);t=r,window.history.pushState&&window.history.pushState({path:t},"",t)}else this.replace(e);var t}replace(e){const t=this._mapQueryStateToUrlParams(e);ue(t)}}const pe="SET_QUERY_STRING",he="SET_QUERY_SORTING",ge="SET_QUERY_SORT_BY",fe="SET_QUERY_SORT_ORDER",ye="SET_QUERY_STATE",me="SET_QUERY_PAGINATION_PAGE",Se="SET_QUERY_PAGINATION_SIZE",ve="SET_QUERY_FILTERS",be="SET_QUERY_SUGGESTIONS",Ce="SET_SUGGESTION_STRING",Ee="CLEAR_QUERY_SUGGESTIONS",Ie="RESULTS_LOADING",Qe="RESULTS_FETCH_SUCCESS",xe="RESULTS_FETCH_ERROR",Re="RESULTS_UPDATE_LAYOUT",Pe="RESET_QUERY",Oe=e=>t=>{t({type:ye,payload:e}),t(Ae())},Fe=e=>t=>{t({type:pe,payload:e}),t(Ae())},Le=e=>t=>{t({type:ve,payload:e}),t(Ae())},ke=(e,t,r,a)=>{!x.default(r.defaultSortingOnEmptyQueryString)&&function(e,t,r,a){t.hasUserChangedSorting||function(e,t,r,a){""===e.queryString?(e.sortBy=r.defaultSortingOnEmptyQueryString.sortBy,e.sortOrder=r.defaultSortingOnEmptyQueryString.sortOrder):(e.sortBy=t.initialSortBy,e.sortOrder=t.initialSortOrder),a({type:ye,payload:e})}(e,t,r,a)}(e,t,r,a)},Ae=function(){let{shouldUpdateUrlQueryString:e=!0,shouldReplaceUrlQueryString:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async(r,a,n)=>{const l=a().app;let s=B.default(a().query);ke(s,l,n,r),s=B.default(a().query),((e,t,r,a)=>{const n=t.urlHandlerApi;n&&(r?n.replace(e):a&&n.set(e))})(s,n,t,e),r({type:Ie});try{const e=n.searchApi;let t=await e.search(s);"newQueryState"in t&&(t=((e,t,r,a)=>{const n=r().query;t({type:ye,payload:{...n,...e.newQueryState}});const l=B.default(r().query),s=a.urlHandlerApi;return s&&s.replace(l),delete e.newStateQuery,e})(B.default(t),r,a,n)),r({type:Qe,payload:{aggregations:t.aggregations,hits:t.hits,total:t.total}})}catch(i){if(i instanceof H)return void console.debug(i);console.error(i),r({type:xe,payload:{error:i}})}}},we=()=>async(e,t,r)=>{const a=B.default(t().query),n=r.suggestionApi;try{const t=await n.search(a);e({type:be,payload:{suggestions:t.suggestions}})}catch(l){console.error("Could not load suggestions due to: "+l)}},Be=z.default.createContext({});var Ue=C.combineReducers({app:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case he:case ge:case fe:return{...e,hasUserChangedSorting:!0};default:return e}},query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return{...e,queryString:t.payload,page:1};case he:return{...e,sortBy:t.payload.sortBy,sortOrder:t.payload.sortOrder,_sortUserChanged:!0,page:1};case ge:return{...e,sortBy:t.payload,_sortUserChanged:!0,page:1};case fe:return{...e,sortOrder:t.payload,_sortUserChanged:!0,page:1};case me:return{...e,page:t.payload};case Se:return{...e,size:t.payload,page:1};case ve:return{...e,page:1,filters:X(t.payload,e.filters)};case be:case Ee:return{...e,suggestions:t.payload.suggestions};case Ce:return{...e,suggestionString:t.payload};case"SET_QUERY_COMPONENT_INITIAL_STATE":return{...e,...t.payload};case ye:return{...e,...ee,...J(ee,t.payload,te)};case Re:return{...e,layout:t.payload};case Pe:return{...e,...t.payload};default:return e}},results:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{...e,loading:!0,data:{...e.data}};case Qe:return{loading:!1,data:{...e.data,aggregations:t.payload.aggregations,hits:t.payload.hits,total:t.payload.total},error:{}};case xe:return{loading:!1,data:{...e.data,aggregations:{},hits:[],total:0},error:t.payload.error};default:return e}}});function qe(e,t){let{sortBy:r,sortOrder:a}=e,{sortBy:n,sortOrder:l}=t;return r!==n||a!==l}function _e(e){const t={...ee,...e.initialQueryState},r=e.urlHandlerApi?e.urlHandlerApi.get(t):t,a=function(e,t,r){const a=qe(r,t);let n=!1;return!x.default(e.defaultSortingOnEmptyQueryString)&&(n=qe(r,e.defaultSortingOnEmptyQueryString)),a&&n}(e,t,r);return{app:{...ae,hasUserChangedSorting:a,initialSortBy:t.sortBy,initialSortOrder:t.sortOrder},query:r,results:{...re,loading:e.searchOnInit}}}function Ne(e){const t=_e(e);return C.createStore(Ue,t,C.applyMiddleware(V.default.withExtraArgument(e)))}function ze(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return`${r?`${r}.`:""}${e}${t?`.${t}`:""}`}class Te extends S.Component{constructor(e){super(e),this.updateQueryState=e=>{const{updateQueryState:t}=this.props;t(e)},this.onQueryChanged=e=>{let{detail:t}=e;const{appName:r}=this.context;if(!r)this.updateQueryState(t.searchQuery);else{const e=t.appName;e===r?this.updateQueryState(t.searchQuery):console.debug(`React-SearchKit '${r}': ignoring event sent for app '${e}'`)}},this.searchOnInit=e.searchOnInit,this.eventListenerEnabled=e.eventListenerEnabled,this.onAppInitialized=e.onAppInitialized,this.searchOnUrlQueryStringChanged=e.searchOnUrlQueryStringChanged}componentDidMount(){this.eventListenerEnabled&&window.addEventListener("queryChanged",this.onQueryChanged),window.onpopstate=()=>{this.searchOnUrlQueryStringChanged()},this.onAppInitialized(this.searchOnInit)}componentWillUnmount(){window.onpopstate=()=>{},window.removeEventListener("queryChanged",this.onQueryChanged)}render(){const{children:e}=this.props;return e}}Te.defaultProps={searchOnInit:!0,eventListenerEnabled:!1},Te.contextType=Be;var Ve=T.default.component("Bootstrap",Te);const De=m.connect(null,(e=>({onAppInitialized:t=>e((e=>t=>{e&&t(Ae({shouldUpdateUrlQueryString:!1,shouldReplaceUrlQueryString:!0}))})(t)),updateQueryState:t=>e(Oe(t)),searchOnUrlQueryStringChanged:()=>e(((e,t,r)=>{if(r.urlHandlerApi){const t=r.urlHandlerApi.get(r.initialQueryState);e({type:ye,payload:t}),e(Ae({shouldReplaceUrlQueryString:!0}))}}))})))(Ve);class $e extends S.Component{constructor(e){super(e);const t={searchApi:e.searchApi,suggestionApi:e.suggestionApi,urlHandlerApi:e.urlHandlerApi.enabled?e.urlHandlerApi.customHandler||new ce(e.urlHandlerApi.overrideConfig):null,searchOnInit:e.searchOnInit,initialQueryState:e.initialQueryState,defaultSortingOnEmptyQueryString:e.defaultSortingOnEmptyQueryString};this.store=Ne(t),this.appName=e.appName,this.eventListenerEnabled=e.eventListenerEnabled,this.componentIndex=0}render(){const{appName:e,children:t,eventListenerEnabled:r,overridableId:a,searchOnInit:n}=this.props,l={appName:e,buildUID:(t,r)=>ze(t,r,e),nextComponentIndex:()=>`${this.appName}_${this.componentIndex++}`},s=ze("ReactSearchKit.children",a,e);return z.default.createElement(Be.Provider,{value:l},z.default.createElement(m.Provider,{store:this.store},z.default.createElement(De,{searchOnInit:n,eventListenerEnabled:r},z.default.createElement(T.default,{id:s},t))))}}$e.defaultProps={suggestionApi:null,urlHandlerApi:{enabled:!0,overrideConfig:{},customHandler:null},searchOnInit:!0,appName:"",eventListenerEnabled:!1,overridableId:"",initialQueryState:{},defaultSortingOnEmptyQueryString:{}},$e.contextType=Be;var Me=T.default.component("ReactSearchKit",$e);class He extends S.Component{constructor(e){super(e),this._getLabel=e=>{const t=e[0];let r=e[1],a=[t,r];if(3===e.length){const{label:t,activeFilter:n}=this._getLabel(e[2]);r=`${r}.${t}`,a.push(n)}return{label:r,activeFilter:a}},this.updateQueryFilters=e.updateQueryFilters}render(){const{filters:e,overridableId:t}=this.props;return!!e.length&&z.default.createElement(je,{filters:e,removeActiveFilter:this.updateQueryFilters,getLabel:this._getLabel,overridableId:t})}}He.defaultProps={overridableId:""};const je=e=>{let{overridableId:t,filters:r,removeActiveFilter:a,getLabel:n}=e;const{buildUID:l}=S.useContext(Be);return z.default.createElement(T.default,{id:l("ActiveFilters.element",t),filters:r,removeActiveFilter:a,getLabel:n},z.default.createElement(z.default.Fragment,null,r.map(((e,t)=>{const{label:r,activeFilter:l}=n(e);return z.default.createElement(b.Label,{image:!0,key:t,onClick:()=>a(l)},r,z.default.createElement(b.Icon,{name:"delete"}))}))))};je.defaultProps={overridableId:""};var Ye=T.default.component("ActiveFilters",He);const Ge=m.connect((e=>({filters:e.query.filters})),(e=>({updateQueryFilters:t=>e(Le(t))})))(Ye);!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===r&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}('.AutoCompleteText{position:relative;z-index:100}.AutoCompleteText .input button,.AutoCompleteText .input input{border:none;border-radius:0}.AutoCompleteText ul{background-color:#fff;border:1px solid #e0e1e2;border-radius:0 0 .3rem .3rem;color:#000;list-style-type:none;margin:0;padding:0;position:absolute;text-align:left;width:100%}.AutoCompleteText ul:before{content:""}.AutoCompleteText li{cursor:pointer;padding:.3em 1em}.AutoCompleteText li:hover{background-color:#e0e1e2;border-radius:.3rem;text-decoration:underline}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vaG9tZS9ydW5uZXIvd29yay9yZWFjdC1zZWFyY2hraXQvcmVhY3Qtc2VhcmNoa2l0L3NyYy9saWIvY29tcG9uZW50cy9BdXRvY29tcGxldGVTZWFyY2hCYXIvQXV0b2NvbXBsZXRlU2VhcmNoQmFyLnNjc3MiLCJBdXRvY29tcGxldGVTZWFyY2hCYXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFDRSxpQkFBQSxDQUNBLFdDQ0YsQ0RPQSwrREFDRSxXQUFBLENBQ0EsZUNDRixDREVBLHFCQU1FLHFCQUFBLENBR0Esd0JBQUEsQ0FDQSw2QkFBQSxDQUxBLFVBQUEsQ0FGQSxvQkFBQSxDQUlBLFFBQUEsQ0FDQSxTQUFBLENBTkEsaUJBQUEsQ0FFQSxlQUFBLENBSEEsVUNVRixDREVBLDRCQUNFLFVDQ0YsQ0RFQSxxQkFFRSxjQUFBLENBREEsZ0JDRUYsQ0RFQSwyQkFFRSx3QkFBQSxDQUNBLG1CQUFBLENBRkEseUJDR0YiLCJmaWxlIjoiQXV0b2NvbXBsZXRlU2VhcmNoQmFyLnNjc3MifQ== */');class We extends S.Component{constructor(e){super(e),this._handleAutocompleteChange=e=>{e.length>=this.minCharsToAutocomplete&&this.updateSuggestions(e)},this.onInputChange=async e=>{await this.setState({currentValue:e}),this.handleAutocompleteChange(this.state.currentValue)},this.executeSearch=()=>{this.updateQueryString(this.state.currentValue)},this.updateQueryString=this.props.updateQueryString,this.updateSuggestions=this.props.debounce?D.default.debounce(this.props.updateSuggestions,this.props.debounceTime,{leading:!0}):this.props.updateSuggestions,this.clearSuggestions=this.props.clearSuggestions,this.minCharsToAutocomplete=this.props.minCharsToAutocomplete,this.state={currentValue:this.props.queryString||""},this.handleAutocompleteChange=e.handleAutocompleteChange||this._handleAutocompleteChange}render(){const{placeholder:e,suggestions:t,overridableId:r}=this.props;return z.default.createElement(Ze,{placeholder:e,queryString:this.state.currentValue,querySuggestions:t,onInputChange:this.onInputChange,executeSearch:this.executeSearch,overridableId:r})}}We.defaultProps={handleAutocompleteChange:null,placeholder:"Type something",minCharsToAutocomplete:3,overridableId:""};const Ze=e=>{let{overridableId:t,placeholder:r,queryString:a,querySuggestions:n,onInputChange:l,executeSearch:s,...i}=e;const{buildUID:o}=S.useContext(Be);return z.default.createElement(T.default,Object.assign({id:o("AutocompleteSearchBar.element",t)},i),z.default.createElement("div",{className:"AutoCompleteText"},z.default.createElement(b.Input,{action:{content:"Search",onClick:(e,t)=>{s()}},fluid:!0,placeholder:r,onChange:(e,t)=>{let{value:r}=t;l(r)},value:a,onKeyPress:(e,t)=>{"Enter"===e.key&&s()}}),z.default.createElement(Ke,{querySuggestions:n,overridableId:t})))},Ke=e=>{let{overridableId:t,...r}=e;const{querySuggestions:a}=r,{buildUID:n}=S.useContext(Be);return 0===a.length?null:z.default.createElement(T.default,Object.assign({id:n("AutocompleteSearchBar.suggestions",t)},r),z.default.createElement("ul",null,a.map((e=>z.default.createElement(b.Button,{as:"li",onClick:()=>(async e=>{await(void 0).setState({currentValue:e}),(void 0).clearSuggestions(),(void 0).executeSearch()})(e),key:e},e)))))};var Xe=T.default.component("AutocompleteSearchBar",(e=>z.default.createElement(We,Object.assign({key:e.queryString},e))));const Je=m.connect((e=>({queryString:e.query.queryString,suggestions:e.query.suggestions})),(e=>({updateQueryString:t=>e(Fe(t)),updateSuggestions:t=>{return e((r=t,e=>{e({type:Ce,payload:r}),e(we())}));var r},clearSuggestions:()=>e((e=>{e({type:Ee,payload:{suggestions:[]}})}))})))(Xe);class et extends S.Component{constructor(e){super(e),this._isSelected=(e,t,r)=>r.filter((r=>r[0]===e&&r[1]===t)).length>=1,this.getChildAggCmps=(e,t)=>{const r=this.childAgg&&this.childAgg.aggName in e;let a=[];if(r){const r=e[this.childAgg.aggName].buckets;t.forEach((t=>{const r=t[0]===this.aggName,n=t[1]===e.key,l=3===t.length;r&&n&&l&&a.push(t[2])}));const n=t=>{this.onFilterClicked([this.aggName,e.key,t])};return z.default.createElement(et,{buckets:r,selectedFilters:a,field:this.childAgg.field,aggName:this.childAgg.aggName,childAgg:this.childAgg.childAgg,onFilterClicked:n})}return null},this.field=e.field,this.aggName=e.aggName,this.childAgg=e.childAgg,this.onFilterClicked=e.onFilterClicked}render(){const{buckets:e,selectedFilters:t,overridableId:r}=this.props,a=e.map((e=>{const a=e.key_as_string?e.key_as_string:e.key,n=this._isSelected(this.aggName,a,t);return z.default.createElement(rt,{key:e.key,bucket:e,keyField:a,isSelected:n,onFilterClicked:e=>{this.onFilterClicked([this.aggName,e])},getChildAggCmps:e=>this.getChildAggCmps(e,t),overridableId:r})}));return z.default.createElement(tt,{valuesCmp:a,overridableId:r})}}et.defaultProps={childAgg:null,overridableId:""};const tt=e=>{let{valuesCmp:t,overridableId:r}=e;const{buildUID:a}=S.useContext(Be);return z.default.createElement(T.default,{id:a("BucketAggregationContainer.element",r),valuesCmp:t},z.default.createElement(b.List,null,t))};tt.defaultProps={overridableId:""};const rt=e=>{let{bucket:t,isSelected:r,onFilterClicked:a,getChildAggCmps:n,overridableId:l,keyField:s}=e;const{buildUID:i,nextComponentIndex:o}=S.useContext(Be),u=t.label?t.label:`${s} (${t.doc_count.toLocaleString("en-US")})`,d=n(t);return z.default.createElement(T.default,{id:i("BucketAggregationValues.element",l),bucket:t,label:u,onFilterClicked:a,isSelected:r,childAggCmps:d},z.default.createElement(b.List.Item,{key:t.key},z.default.createElement(b.Checkbox,{label:u,id:o(),value:t.key,onClick:()=>a(t.key),checked:r}),d))};rt.defaultProps={overridableId:""};var at=T.default.component("BucketAggregationValues",et);class nt extends S.Component{constructor(e){super(e),this.onFilterClicked=e=>{this.updateQueryFilters(e)},this._renderValues=(e,t)=>{const{overridableId:r}=this.props;return z.default.createElement(at,{buckets:e,selectedFilters:t,field:this.agg.field,aggName:this.agg.aggName,childAgg:this.agg.childAgg,onFilterClicked:this.onFilterClicked,overridableId:r})},this._getSelectedFilters=e=>e.filter((e=>e[0]===this.agg.aggName)),this._getResultBuckets=e=>{const t=P.default(e,this.agg.aggName,{});return"buckets"in t?(Array.isArray(t.buckets)||(t.buckets=Object.entries(t.buckets).map((e=>{let[t,r]=e;return{...r,key:t}}))),t.buckets):[]},this.title=e.title,this.agg=e.agg,this.updateQueryFilters=e.updateQueryFilters}render(){const{userSelectionFilters:e,resultsAggregations:t,overridableId:r,...a}=this.props,n=this._getSelectedFilters(e),l=this._getResultBuckets(t),s=l.length?this._renderValues(l,n):null;return z.default.createElement(lt,Object.assign({title:this.title,containerCmp:s,overridableId:r},a))}}nt.defaultProps={overridableId:""};const lt=e=>{let{overridableId:t,agg:r,title:a,containerCmp:n,updateQueryFilters:l}=e;const{buildUID:s}=S.useContext(Be);return n&&z.default.createElement(T.default,{id:s("BucketAggregation.element",t),agg:r,title:a,containerCmp:n,updateQueryFilters:l},z.default.createElement(b.Card,null,z.default.createElement(b.Card.Content,null,z.default.createElement(b.Card.Header,null,a)),z.default.createElement(b.Card.Content,null,n)))};lt.defaultProps={containerCmp:null,overridableId:""};var st=T.default.component("BucketAggregation",nt);const it=m.connect((e=>({userSelectionFilters:e.query.filters,resultsAggregations:e.results.data.aggregations})),(e=>({updateQueryFilters:t=>e(Le(t))})))(st);class ot extends S.Component{render(){const{children:e,condition:t}=this.props;return t?e:null}}ot.defaultProps={condition:!0};var ut=T.default.component("ShouldRender",ot);class dt extends S.Component{render(){const{loading:e,totalResults:t,label:r,overridableId:a}=this.props;return z.default.createElement(ut,{condition:!e&&t>0},r(z.default.createElement(ct,{totalResults:t,overridableId:a})))}}dt.defaultProps={label:e=>e,overridableId:""};const ct=e=>{let{totalResults:t,overridableId:r}=e;const{buildUID:a}=S.useContext(Be),n=a("Count.element",r);return z.default.createElement(T.default,{id:n,totalResults:t},z.default.createElement(b.Label,{color:"blue"},t.toLocaleString("en-US")))};ct.defaultProps={overridableId:""};var pt=T.default.component("Count",dt);const ht=m.connect((e=>({loading:e.results.loading,totalResults:e.results.data.total})))(pt);class gt extends S.Component{constructor(e){super(e),this.resetQuery=e.resetQuery}render(){const{loading:e,totalResults:t,error:r,queryString:a,extraContent:n,overridableId:l,userSelectionFilters:s,...i}=this.props;return z.default.createElement(ut,{condition:!e&&x.default(r)&&0===t},z.default.createElement(ft,Object.assign({},i,{queryString:a,resetQuery:this.resetQuery,extraContent:n,userSelectionFilters:s,overridableId:l})))}}gt.defaultProps={queryString:"",extraContent:null,overridableId:""};const ft=e=>{let{overridableId:t,queryString:r,resetQuery:a,extraContent:n,userSelectionFilters:l}=e;const{buildUID:s}=S.useContext(Be);return z.default.createElement(T.default,{id:s("EmptyResults.element",t),queryString:r,resetQuery:a,extraContent:n,userSelectionFilters:l},z.default.createElement(b.Segment,{placeholder:!0,textAlign:"center"},z.default.createElement(b.Header,{icon:!0},z.default.createElement(b.Icon,{name:"search"}),"No results found!"),r&&z.default.createElement("em",null,'Current search "',r,'"'),z.default.createElement("br",null),z.default.createElement(b.Button,{primary:!0,onClick:()=>a()},"Clear query"),n))};ft.defaultProps={queryString:"",extraContent:null,overridableId:""};var yt=T.default.component("EmptyResults",gt);const mt=m.connect((e=>({loading:e.results.loading,totalResults:e.results.data.total,error:e.results.error,queryString:e.query.queryString,userSelectionFilters:e.query.filters})),(e=>({resetQuery:()=>e(((e,t,r)=>{e({type:Pe,payload:{queryString:"",page:1,filters:[],...r.initialQueryState}}),e(Ae())}))})))(yt);function St(e){let{loading:t,error:r,overridableId:a}=e;return z.default.createElement(ut,{condition:!t&&!x.default(r)},z.default.createElement(vt,{error:r,overridableId:a}))}St.defaultProps={overridableId:""};const vt=e=>{let{error:t,overridableId:r}=e;const{buildUID:a}=S.useContext(Be);return z.default.createElement(T.default,{id:a("Error.element",r),error:t},z.default.createElement("div",null,"Oops! Something went wrong while fetching results."))};vt.defaultProps={overridableId:""};var bt=T.default.component("Error",St);const Ct=m.connect((e=>({loading:e.results.loading,error:e.results.error})))(bt);class Et extends S.Component{constructor(e){super(e),this.onLayoutChange=e=>{this.updateLayout(e)},this.updateLayout=e.updateLayout}render(){const{currentLayout:e,loading:t,totalResults:r,overridableId:a}=this.props;return z.default.createElement(ut,{condition:null!==e&&!t&&r>0},z.default.createElement(It,{currentLayout:e,onLayoutChange:this.onLayoutChange,overridableId:a}))}}Et.defaultProps={currentLayout:null,overridableId:""};const It=e=>{let{overridableId:t,currentLayout:r,onLayoutChange:a}=e;const{buildUID:n}=S.useContext(Be);return z.default.createElement(T.default,{id:n("LayoutSwitcher.element",t),currentLayout:r,onLayoutChange:a},z.default.createElement(b.Menu,{compact:!0,icon:!0},z.default.createElement(b.Menu.Item,{name:"list",active:"list"===r,onClick:(e,t)=>{let{name:r}=t;return a(r)}},z.default.createElement(b.Icon,{name:"list layout"})),z.default.createElement(b.Menu.Item,{name:"grid",active:"grid"===r,onClick:(e,t)=>{let{name:r}=t;return a(r)}},z.default.createElement(b.Icon,{name:"grid layout"}))))};It.defaultProps={currentLayout:null,overridableId:""};var Qt=T.default.component("LayoutSwitcher",Et);const xt=m.connect((e=>({loading:e.results.loading,currentLayout:e.query.layout,totalResults:e.results.data.total})),(e=>({updateLayout:t=>e((e=>async(t,r,a)=>{const n=a.urlHandlerApi;if(n){await t({type:Re,payload:e});const a=r().query;n.set(a)}else t({type:Re,payload:e})})(t))})))(Qt),Rt={boundaryRangeCount:1,siblingRangeCount:1,showEllipsis:!0,showFirst:!0,showLast:!0,showPrev:!0,showNext:!0,size:"large"};class Pt extends S.Component{constructor(e){super(e),this.onPageChange=e=>{const{currentPage:t}=this.props;e!==t&&this.updateQueryPage(e)},this.updateQueryPage=e.updateQueryPage,this.options=e.options?{...Rt,...e.options}:Rt}render(){const{loading:e,totalResults:t,currentPage:r,currentSize:a,overridableId:n,showWhenOnlyOnePage:l}=this.props;return z.default.createElement(ut,{condition:!e&&r>-1&&a>-1&&l?t>0:t>a},z.default.createElement(Ot,{currentPage:r,currentSize:a,totalResults:t,onPageChange:this.onPageChange,options:this.options,overridableId:n,maxTotalResults:this.options.maxTotalResults}))}}Pt.defaultProps={options:{},overridableId:"",showWhenOnlyOnePage:!0};const Ot=e=>{let{overridableId:t,currentPage:r,currentSize:a,totalResults:n,onPageChange:l,options:s,maxTotalResults:i,...o}=e;const u=s.boundaryRangeCount,d=s.siblingRangeCount,c=s.showEllipsis,p=s.showFirst,h=s.showLast,g=s.showPrev,f=s.showNext,y=s.size,m=Math.floor(i/a),v=Math.ceil(n/a),C=Math.min(v,m),{buildUID:E}=S.useContext(Be);return r>v&&l(v),z.default.createElement(T.default,{id:E("Pagination.element",t),currentPage:r,currentSize:a,totalResults:n,options:s,onPageChange:l},z.default.createElement(b.Pagination,Object.assign({activePage:r,totalPages:C,onPageChange:(e,t)=>{let{activePage:r}=t;return l(r)},boundaryRange:u,siblingRange:d,ellipsisItem:c?void 0:null,firstItem:p?void 0:null,lastItem:h?void 0:null,prevItem:g?void 0:null,nextItem:f?void 0:null,size:y},o)))};Ot.defaultProps={options:{},overridableId:"",maxTotalResults:1e4};var Ft=T.default.component("Pagination",Pt);const Lt=m.connect((e=>({currentPage:e.query.page,currentSize:e.query.size,loading:e.results.loading,totalResults:e.results.data.total})),(e=>({updateQueryPage:t=>e((e=>t=>{t({type:me,payload:e}),t(Ae())})(t))})))(Ft);function kt(e){let{loading:t,totalResults:r,results:a,resultsPerRow:n,overridableId:l,onResultsRendered:s}=e;return S.useEffect((()=>{s&&s()}),[s]),z.default.createElement(ut,{condition:!t&&r>0},z.default.createElement(wt,{results:a,resultsPerRow:n,overridableId:l}))}kt.defaultProps={resultsPerRow:3,overridableId:"",onResultsRendered:()=>{}};const At=e=>{let{result:t,overridableId:r}=e;const{buildUID:a}=S.useContext(Be);return z.default.createElement(T.default,{id:a("ResultsGrid.item",r),result:t},z.default.createElement(b.Card,{fluid:!0,href:`#${t.id}`},z.default.createElement(b.Image,{src:t.imgSrc||"http://placehold.it/200"}),z.default.createElement(b.Card.Content,null,z.default.createElement(b.Card.Header,null,t.title),z.default.createElement(b.Card.Description,null,t.description))))},wt=e=>{let{overridableId:t,results:r,resultsPerRow:a}=e;const{buildUID:n}=S.useContext(Be),l=r.map(((e,r)=>z.default.createElement(At,{key:r,result:e,overridableId:t})));return z.default.createElement(T.default,{id:n("ResultsGrid.container",t),results:l,resultsPerRow:a},z.default.createElement(b.Card.Group,{itemsPerRow:a},l))};wt.defaultProps={resultsPerRow:3,overridableId:""};var Bt=T.default.component("ResultsGrid",kt);const Ut=m.connect((e=>({loading:e.results.loading,totalResults:e.results.data.total,results:e.results.data.hits})))(Bt);function qt(e){let{loading:t,totalResults:r,results:a,overridableId:n,onResultsRendered:l}=e;return S.useEffect((()=>{l&&l()}),[l]),z.default.createElement(ut,{condition:!t&&r>0},z.default.createElement(Nt,{results:a,overridableId:n}))}qt.defaultProps={overridableId:"",onResultsRendered:()=>{}};const _t=e=>{let{result:t,overridableId:r}=e;const{buildUID:a}=S.useContext(Be);return z.default.createElement(T.default,{id:a("ResultsList.item",r),result:t},z.default.createElement(b.Item,{href:`#${t.id}`},z.default.createElement(b.Item.Image,{size:"small",src:t.imgSrc||"http://placehold.it/200"}),z.default.createElement(b.Item.Content,null,z.default.createElement(b.Item.Header,null,t.title),z.default.createElement(b.Item.Description,null,t.description))))},Nt=e=>{let{results:t,overridableId:r}=e;const{buildUID:a}=S.useContext(Be),n=t.map(((e,t)=>z.default.createElement(_t,{result:e,key:t,overridableId:r})));return z.default.createElement(T.default,{id:a("ResultsList.container",r),results:n},z.default.createElement(b.Item.Group,{divided:!0,relaxed:!0,link:!0},n))};Nt.defaultProps={overridableId:""};var zt=T.default.component("ResultsList",qt);const Tt=m.connect((e=>({loading:e.results.loading,totalResults:e.results.data.total,results:e.results.data.hits})))(zt);function Vt(e){let{children:t,loading:r,overridableId:a}=e;return r?z.default.createElement(Dt,{overridableId:a}):t}Vt.defaultProps={overridableId:""};const Dt=e=>{let{overridableId:t}=e;const{buildUID:r}=S.useContext(Be);return z.default.createElement(T.default,{id:r("ResultsLoader.element",t)},z.default.createElement(b.Loader,{active:!0,size:"huge",inline:"centered"}))};Dt.defaultProps={overridableId:""};var $t=T.default.component("ResultsLoader",Vt);const Mt=m.connect((e=>({loading:e.results.loading})))($t);function Ht(e){let{loading:t,totalResults:r,currentLayout:a,overridableId:n,onResultsRendered:l}=e;return z.default.createElement(ut,{condition:null!=a&&!t&&r>0},z.default.createElement(jt,{layout:a,overridableId:n,onResultsRendered:l}))}Ht.defaultProps={currentLayout:null,overridableId:"",onResultsRendered:()=>{}};const jt=e=>{let{layout:t,overridableId:r,onResultsRendered:a}=e;const{buildUID:n}=S.useContext(Be);return z.default.createElement(T.default,{id:n("ResultsMultiLayout.element",r),layout:t,onResultsRendered:a},"list"===t?z.default.createElement(Tt,{overridableId:r,onResultsRendered:a}):z.default.createElement(Ut,{overridableId:r,onResultsRendered:a}))};jt.defaultProps={layout:"",overridableId:"",onResultsRendered:()=>{}};var Yt=T.default.component("ResultsMultiLayout",Ht);const Gt=m.connect((e=>({loading:e.results.loading,totalResults:e.results.data.total,currentLayout:e.query.layout})))(Yt);class Wt extends S.Component{constructor(e){super(e),this.onChange=e=>{const{currentSize:t}=this.props;e!==t&&this.updateQuerySize(e)},this.options=e.values,this.updateQuerySize=e.updateQuerySize}render(){const{loading:e,currentSize:t,totalResults:r,label:a,overridableId:n,ariaLabel:l,selectOnNavigation:s,showWhenOnlyOnePage:i}=this.props;return z.default.createElement(ut,{condition:!e&&-1!==t&&i?r>0:r>t},a(z.default.createElement(Zt,{currentSize:t,options:this.options,onValueChange:this.onChange,overridableId:n,ariaLabel:l,selectOnNavigation:s})))}}Wt.defaultProps={label:e=>e,overridableId:"",ariaLabel:"Results per page",selectOnNavigation:!1,showWhenOnlyOnePage:!0};const Zt=e=>{let{overridableId:t,currentSize:r,options:a,onValueChange:n,ariaLabel:l,selectOnNavigation:s}=e;const{buildUID:i}=S.useContext(Be),o=a.map(((e,t)=>({key:t,text:e.text,value:e.value})));return z.default.createElement(T.default,{id:i("ResultsPerPage.element",t),currentSize:r,options:a,onValueChange:n,ariaLabel:l,selectOnNavigation:s},z.default.createElement(b.Dropdown,{inline:!0,compact:!0,options:o,value:r,onChange:(e,t)=>{let{value:r}=t;return n(r)},"aria-label":l,selectOnNavigation:s}))};Zt.defaultProps={ariaLabel:"Results per page",selectOnNavigation:!1,overridableId:""};var Kt=T.default.component("ResultsPerPage",Wt);const Xt=m.connect((e=>({loading:e.results.loading,currentSize:e.query.size,totalResults:e.results.data.total})),(e=>({updateQuerySize:t=>e((e=>t=>{t({type:Se,payload:e}),t(Ae())})(t))})))(Kt);class Jt extends S.Component{constructor(e){super(e),this.onInputChange=e=>{this.setState({currentValue:e})},this.executeSearch=()=>{const{currentValue:e}=this.state;this.updateQueryString(e)},this.onBtnSearchClick=()=>{this.executeSearch()},this.onKeyPress=e=>{"Enter"===e.key&&this.executeSearch()},this.updateQueryString=e.updateQueryString,this.state={currentValue:e.queryString||""}}render(){const{actionProps:e,autofocus:t,executeSearch:r,onBtnSearchClick:a,onInputChange:n,onKeyPress:l,overridableId:s,placeholder:i,uiProps:o}=this.props,{currentValue:u}=this.state;return z.default.createElement(tr,{actionProps:e,autofocus:t,executeSearch:r||this.executeSearch,onBtnSearchClick:a||this.onBtnSearchClick,onInputChange:n||this.onInputChange,onKeyPress:l||this.onKeyPress,overridableId:s,placeholder:i,queryString:u,uiProps:o})}}Jt.defaultProps={actionProps:null,autofocus:!1,executeSearch:null,onBtnSearchClick:null,onInputChange:null,onKeyPress:null,overridableId:"",placeholder:"",queryString:"",uiProps:null};const er=e=>{const{queryString:t}=e;return z.default.createElement(Jt,Object.assign({key:t},e))};er.defaultProps={queryString:""};class tr extends S.Component{componentDidMount(){const{autofocus:e}=this.props;e&&this.focusInput&&this.focusInput.focus()}render(){const{actionProps:e,onBtnSearchClick:t,onInputChange:r,onKeyPress:a,overridableId:n,placeholder:l,queryString:s,uiProps:i}=this.props,{buildUID:o}=this.context;return z.default.createElement(T.default,{id:o("SearchBar.element",n),queryString:s,onBtnSearchClick:t,onInputChange:r,onKeyPress:a,placeholder:l,actionProps:e,uiProps:i},z.default.createElement(b.Input,Object.assign({action:{content:"Search",onClick:t,...e},fluid:!0},i,{placeholder:l||"Type something",onChange:(e,t)=>{let{value:a}=t;r(a)},value:s,onKeyPress:a,ref:e=>{this.focusInput=e}})))}}tr.defaultProps={actionProps:null,autofocus:!1,onBtnSearchClick:null,onInputChange:null,onKeyPress:null,overridableId:"",placeholder:"",queryString:"",uiProps:null},tr.contextType=Be;var rr=T.default.component("SearchBar",er);const ar=m.connect((e=>({queryString:e.query.queryString})),(e=>({updateQueryString:t=>e(Fe(t))})))(rr);class nr extends S.Component{constructor(e){super(e),this._computeValue=(e,t)=>t?`${e}-${t}`:e,this.onChange=e=>{const{currentSortBy:t,currentSortOrder:r}=this.props;if(e===this._computeValue(t,r))return;const a=this.options.find((t=>t.value===e));this.updateQuerySorting(a.sortBy,a.sortOrder)},this.options=e.values,this.updateQuerySorting=e.updateQuerySorting,this.options.forEach((e=>e.value=this._computeValue(e.sortBy,e.sortOrder)))}render(){const{currentSortBy:e,currentSortOrder:t,loading:r,totalResults:a,label:n,overridableId:l,sortOrderDisabled:s,ariaLabel:i,selectOnNavigation:o}=this.props;return z.default.createElement(ut,{condition:null!==e&&(s||null!==e)&&!r&&a>0},n(z.default.createElement(lr,{currentSortBy:e,currentSortOrder:t,options:this.options,onValueChange:this.onChange,computeValue:this._computeValue,overridableId:l,ariaLabel:i,selectOnNavigation:o})))}}nr.defaultProps={currentSortBy:null,currentSortOrder:null,label:e=>e,overridableId:"",sortOrderDisabled:!1,ariaLabel:"Sort",selectOnNavigation:!1};const lr=e=>{let{overridableId:t,currentSortBy:r,currentSortOrder:a,options:n,onValueChange:l,computeValue:s,ariaLabel:i,selectOnNavigation:o}=e;const{buildUID:u}=S.useContext(Be),d=s(r,a),c=n.map(((e,t)=>({key:t,text:e.text,value:e.value})));return z.default.createElement(T.default,{id:u("Sort.element",t),options:n,currentSortBy:r,currentSortOrder:a,onValueChange:l,ariaLabel:i,selectOnNavigation:o},z.default.createElement(b.Dropdown,{selection:!0,options:c,value:d,onChange:(e,t)=>{let{value:r}=t;return l(r)},"aria-label":i,selectOnNavigation:o}))};lr.defaultProps={currentSortBy:null,currentSortOrder:null,overridableId:"",ariaLabel:"Sort",selectOnNavigation:!1};var sr=T.default.component("Sort",nr);const ir=m.connect((e=>({currentSortBy:e.query.sortBy,currentSortOrder:e.query.sortOrder,loading:e.results.loading,totalResults:e.results.data.total})),(e=>({updateQuerySorting:(t,r)=>{return e((a=t,n=r,e=>{e({type:he,payload:{sortBy:a,sortOrder:n}}),e(Ae())}));var a,n}})))(sr);class or extends S.Component{constructor(e){super(e),this.onChange=e=>{const{currentSortBy:t}=this.props;e!==t&&this.updateQuerySortBy(e)},this.options=e.values,this.updateQuerySortBy=e.updateQuerySortBy}render(){const{currentSortBy:e,loading:t,totalResults:r,label:a,overridableId:n,ariaLabel:l,selectOnNavigation:s}=this.props;return z.default.createElement(ut,{condition:null!==e&&!t&&r>0},a(z.default.createElement(ur,{currentSortBy:e,options:this.options,onValueChange:this.onChange,overridableId:n,ariaLabel:l,selectOnNavigation:s})))}}or.defaultProps={currentSortBy:null,label:e=>e,overridableId:"",ariaLabel:"Sort Results By",selectOnNavigation:!1};const ur=e=>{let{overridableId:t,currentSortBy:r,options:a,onValueChange:n,ariaLabel:l,selectOnNavigation:s}=e;const{buildUID:i}=S.useContext(Be),o=a.map(((e,t)=>({key:t,text:e.text,value:e.value})));return z.default.createElement(T.default,{id:i("SortBy.element",t),options:a,currentSortBy:r,onValueChange:n,ariaLabel:l,selectOnNavigation:s},z.default.createElement(b.Dropdown,{selection:!0,compact:!0,options:o,value:r,onChange:(e,t)=>{let{value:r}=t;return n(r)},"aria-label":l,selectOnNavigation:s}))};ur.defaultProps={currentSortBy:null,overridableId:"",ariaLabel:"Sort Results By",selectOnNavigation:!1};var dr=T.default.component("SortBy",or);const cr=m.connect((e=>({loading:e.results.loading,totalResults:e.results.data.total,currentSortBy:e.query.sortBy})),(e=>({updateQuerySortBy:t=>e((e=>t=>{t({type:ge,payload:e}),t(Ae())})(t))})))(dr);class pr extends S.Component{constructor(e){super(e),this.onChange=e=>{const{currentSortOrder:t}=this.props;e!==t&&this.updateQuerySortOrder(e)},this.options=e.values,this.updateQuerySortOrder=e.updateQuerySortOrder}render(){const{currentSortOrder:e,loading:t,totalResults:r,label:a,overridableId:n,ariaLabel:l,selectOnNavigation:s}=this.props;return z.default.createElement(ut,{condition:null!==e&&!t&&r>0},a(z.default.createElement(hr,{currentSortOrder:e,options:this.options,onValueChange:this.onChange,overridableId:n,ariaLabel:l,selectOnNavigation:s})))}}pr.defaultProps={currentSortOrder:null,label:e=>e,overridableId:"",ariaLabel:"Sort Order",selectOnNavigation:!1};const hr=e=>{let{overridableId:t,currentSortOrder:r,options:a,onValueChange:n,ariaLabel:l,selectOnNavigation:s}=e;const{buildUID:i}=S.useContext(Be),o=a.map(((e,t)=>({key:t,text:e.text,value:e.value})));return z.default.createElement(T.default,{id:i("SortOrder.element",t),options:a,currentSortOrder:r,onValueChange:n,ariaLabel:l,selectOnNavigation:s},z.default.createElement(b.Dropdown,{selection:!0,compact:!0,options:o,value:r,onChange:(e,t)=>{let{value:r}=t;return n(r)},"aria-label":l,selectOnNavigation:s}))};hr.defaultProps={currentSortOrder:null,overridableId:"",ariaLabel:"Sort Order",selectOnNavigation:!1};var gr=T.default.component("SortOrder",pr);const fr=m.connect((e=>({loading:e.results.loading,totalResults:e.results.data.total,currentSortOrder:e.query.sortOrder})),(e=>({updateQuerySortOrder:t=>e((e=>t=>{t({type:fe,payload:e}),t(Ae())})(t))})))(gr),yr=e=>{let{overridableId:t,userSelectionFilters:r,title:a,label:n,filterValue:l,updateQueryFilters:s}=e;const{buildUID:i}=S.useContext(Be),o=(e=>e.filter((e=>e[0]===l[0])).length>0)(r);return z.default.createElement(T.default,{id:i("SearchFilters.Toggle.element",t),title:a,label:n,filterValue:l,userSelectionFilters:r,updateQueryFilters:s},z.default.createElement(b.Card,null,z.default.createElement(b.Card.Content,null,z.default.createElement(b.Card.Header,null,a)),z.default.createElement(b.Card.Content,null,z.default.createElement(b.Checkbox,{toggle:!0,label:n,onClick:()=>{s(l)},checked:o}))))};yr.defaultProps={overridableId:""};var mr=T.default.component("SearchFilters.Toggle",yr);const Sr=m.connect((e=>({userSelectionFilters:e.query.filters})),(e=>({updateQueryFilters:t=>e(Le(t))})))(mr);t.zG=it,t.y_=ht,t.i6=mt,t.$D=Ct,t.HZ=le,t.UD=xt,t.dK=Lt,t.gz=Me,t.Jq=Ut,t.dy=Tt,t.oK=Mt,t.gD=Gt,t.RZ=Xt,t.IW=ar,t.FU=ir,t.lM=Sr,t.z_=ze,t.Q2=function(e){return m.connect((e=>({currentQueryState:e.query,currentResultsState:e.results})),(e=>({updateQueryState:t=>e(Oe(t))})))((t=>z.default.createElement(e,t)))}}}]);
//# sourceMappingURL=8871.116fa6a344f5f42c4aa0.js.map